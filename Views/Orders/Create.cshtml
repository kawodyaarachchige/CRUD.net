@model MyFirstApp.Models.Order
@{
ViewBag.Title = "Create Order";
}

<h2>Create Order</h2>

<form asp-action="Create" method="post">
    <div>
        <label for="CustomerId">Customer:</label>
        <select asp-for="CustomerId" asp-items="@(new SelectList(ViewBag.Customers, "Id", "Name"))"></select>
    </div>

    <div id="itemContainer">
        <div>
            <select name="orderItems[0].ItemId" onchange="calculateTotal(0)">
                <option value="">Select Item</option>
                @foreach (var item in ViewBag.Items)
                {
                <option value="@item.Id">@item.Name</option>
                }
            </select>
            <input type="number" name="orderItems[0].Quantity" placeholder="Quantity" oninput="calculateTotal(0)" />
            <input type="text" name="orderItems[0].TotalAmount" placeholder="Total Amount" readonly />
        </div>
    </div>

    <button type="button" onclick="addItem()">Add Item</button>

    <div>
        <button type="submit">Place Order</button>
    </div>
</form>

<script src="~/js/site.js"></script> <!-- Add this line -->
