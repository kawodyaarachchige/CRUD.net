@model IEnumerable<MyFirstApp.Models.OrderModel>

@{
    ViewData["Title"] = "Orders";
}

<h2>Orders</h2>
<a href="@Url.Action("Create","Orders")" class="btn btn-primary mb-2">Place Order</a>

<table class="table table-striped">
    <thead>
    <tr>
        <th>Order ID</th>
        <th>Customer</th>
        <th>Order Date</th>
        <th>Total Amount</th>
        <th>Items</th>
    </tr>
    </thead>
    <tbody>
    @foreach (var order in Model)
    {
        <tr>
            <td>@order.Id</td>
            <td>@order.User.Name</td> <!-- Assuming User is a navigation property -->
            <td>@order.OrderDate.ToString("MM/dd/yyyy")</td>
            <td>@order.TotalAmount.ToString("C")</td>
            <td>
                <ul>
                    @foreach (var orderItem in order.OrderItems)
                    {
                        <li>
                            @orderItem.Item.Name - Quantity: @orderItem.Quantity, Price: @orderItem.Price.ToString("C")
                        </li>
                    }
                </ul>
            </td>
        </tr>
    }
    </tbody>
</table>